{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React, { Component, isValidElement } from 'react';\nimport { compose } from 'recompose';\nimport styled, { withTheme } from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Drop } from '../Drop';\nimport { InfiniteScroll } from '../InfiniteScroll';\nimport { Keyboard } from '../Keyboard';\nimport { withAnnounce, withFocus, withForwardRef } from '../hocs';\nimport { sizeStyle } from '../../utils';\nimport { StyledTextInput, StyledTextInputContainer, StyledPlaceholder, StyledSuggestions } from './StyledTextInput';\n\nfunction renderLabel(suggestion) {\n  if (suggestion && typeof suggestion === 'object') {\n    return suggestion.label || suggestion.value;\n  }\n\n  return suggestion;\n}\n\nfunction stringLabel(suggestion) {\n  if (suggestion && typeof suggestion === 'object') {\n    if (suggestion.label && typeof suggestion.label === 'string') {\n      return suggestion.label;\n    }\n\n    return suggestion.value;\n  }\n\n  return suggestion;\n}\n\nvar ContainerBox = styled(Box).withConfig({\n  displayName: \"TextInput__ContainerBox\",\n  componentId: \"sc-1ai0c08-0\"\n})([\"\", \";@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}\"], function (props) {\n  return props.dropHeight ? sizeStyle('max-height', props.dropHeight, props.theme) : 'max-height: inherit;';\n});\n\nvar TextInput =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(TextInput, _Component);\n\n  function TextInput() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      activeSuggestionIndex: -1,\n      showDrop: false,\n      isInputEmpty: true\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"inputRef\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"announce\", function (message, mode) {\n      var _this$props = _this.props,\n          announce = _this$props.announce,\n          suggestions = _this$props.suggestions;\n\n      if (suggestions && suggestions.length > 0) {\n        announce(message, mode);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"announceSuggestionsCount\", function () {\n      var _this$props2 = _this.props,\n          suggestions = _this$props2.suggestions,\n          suggestionsCount = _this$props2.messages.suggestionsCount;\n\n      _this.announce(suggestions.length + \" \" + suggestionsCount);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"announceSuggestionsExist\", function () {\n      var suggestionsExist = _this.props.messages.suggestionsExist;\n\n      _this.announce(suggestionsExist);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"announceSuggestionsIsOpen\", function () {\n      var suggestionIsOpen = _this.props.messages.suggestionIsOpen;\n\n      _this.announce(suggestionIsOpen);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"announceSuggestion\", function (index) {\n      var _this$props3 = _this.props,\n          suggestions = _this$props3.suggestions,\n          enterSelect = _this$props3.messages.enterSelect;\n\n      if (suggestions && suggestions.length > 0) {\n        var labelMessage = stringLabel(suggestions[index]);\n\n        _this.announce(labelMessage + \" \" + enterSelect);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetSuggestions\", function () {\n      // delay this to avoid re-render interupting event delivery\n      // https://github.com/grommet/grommet/issues/2154\n      // 10ms was chosen empirically based on ie11 using TextInput\n      // with and without a FormField.\n      clearTimeout(_this.resetTimer);\n      _this.resetTimer = setTimeout(function () {\n        var suggestions = _this.props.suggestions;\n\n        if (suggestions && suggestions.length) {\n          _this.setState({\n            activeSuggestionIndex: -1,\n            showDrop: true,\n            selectedSuggestionIndex: -1\n          }, _this.announceSuggestionsCount);\n        }\n      }, 10);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getSelectedSuggestionIndex\", function () {\n      var _this$props4 = _this.props,\n          suggestions = _this$props4.suggestions,\n          value = _this$props4.value;\n      var suggestionValues = suggestions.map(function (suggestion) {\n        if (typeof suggestion === 'object') {\n          return suggestion.value;\n        }\n\n        return suggestion;\n      });\n      return suggestionValues.indexOf(value);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onShowSuggestions\", function () {\n      // Get values of suggestions, so we can highlight selected suggestion\n      var selectedSuggestionIndex = _this.getSelectedSuggestionIndex();\n\n      _this.setState({\n        showDrop: true,\n        activeSuggestionIndex: -1,\n        selectedSuggestionIndex: selectedSuggestionIndex\n      }, _this.announceSuggestionsIsOpen);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onNextSuggestion\", function (event) {\n      var suggestions = _this.props.suggestions;\n      var _this$state = _this.state,\n          activeSuggestionIndex = _this$state.activeSuggestionIndex,\n          showDrop = _this$state.showDrop;\n\n      if (suggestions && suggestions.length > 0) {\n        if (!showDrop) {\n          _this.onShowSuggestions();\n        } else {\n          event.preventDefault();\n          var index = Math.min(activeSuggestionIndex + 1, suggestions.length - 1);\n\n          _this.setState({\n            activeSuggestionIndex: index\n          }, function () {\n            return _this.announceSuggestion(index);\n          });\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPreviousSuggestion\", function (event) {\n      var suggestions = _this.props.suggestions;\n      var _this$state2 = _this.state,\n          activeSuggestionIndex = _this$state2.activeSuggestionIndex,\n          showDrop = _this$state2.showDrop;\n\n      if (suggestions && suggestions.length > 0 && showDrop) {\n        event.preventDefault();\n        var index = Math.max(activeSuggestionIndex - 1, 0);\n\n        _this.setState({\n          activeSuggestionIndex: index\n        }, function () {\n          return _this.announceSuggestion(index);\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickSuggestion\", function (suggestion, event) {\n      var _this$props5 = _this.props,\n          forwardRef = _this$props5.forwardRef,\n          onSelect = _this$props5.onSelect;\n\n      _this.setState({\n        showDrop: false,\n        activeSuggestionIndex: -1\n      });\n\n      if (onSelect) {\n        // TODO: needed for backwards compatibility sake\n\n        /* eslint-disable no-param-reassign */\n        event.suggestion = suggestion;\n        event.target = (forwardRef || _this.inputRef).current;\n        /* eslint-enable no-param-reassign */\n\n        onSelect(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSuggestionSelect\", function (event) {\n      var _this$props6 = _this.props,\n          forwardRef = _this$props6.forwardRef,\n          onSelect = _this$props6.onSelect,\n          suggestions = _this$props6.suggestions;\n      var activeSuggestionIndex = _this.state.activeSuggestionIndex;\n\n      _this.setState({\n        showDrop: false,\n        activeSuggestionIndex: -1\n      });\n\n      if (activeSuggestionIndex >= 0) {\n        event.preventDefault(); // prevent submitting forms\n        // TODO: needed for backwards compatibility sake\n\n        /* eslint-disable no-param-reassign */\n\n        event.suggestion = suggestions[activeSuggestionIndex];\n        event.target = (forwardRef || _this.inputRef).current;\n        /* eslint-enable no-param-reassign */\n\n        if (onSelect) {\n          onSelect(event);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFocus\", function (event) {\n      var _this$props7 = _this.props,\n          onFocus = _this$props7.onFocus,\n          suggestions = _this$props7.suggestions;\n\n      if (suggestions && suggestions.length > 0) {\n        _this.announceSuggestionsExist();\n      }\n\n      _this.resetSuggestions();\n\n      if (onFocus) {\n        onFocus(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBlur\", function (event) {\n      var onBlur = _this.props.onBlur;\n      clearTimeout(_this.resetTimer);\n\n      if (onBlur) {\n        onBlur(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (event) {\n      var onChange = _this.props.onChange;\n\n      _this.setState({\n        isInputEmpty: !event.target.value\n      });\n\n      _this.resetSuggestions();\n\n      if (onChange) {\n        onChange(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onEsc\", function (event) {\n      var showDrop = _this.state.showDrop;\n\n      if (showDrop) {\n        // we have to stop both synthetic events and native events\n        // drop and layer should not close by pressing esc on this input\n        event.stopPropagation();\n        event.nativeEvent.stopImmediatePropagation();\n\n        _this.setState({\n          showDrop: false\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTab\", function () {\n      _this.setState({\n        showDrop: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderSuggestions\", function () {\n      var _this$props8 = _this.props,\n          suggestions = _this$props8.suggestions,\n          theme = _this$props8.theme;\n      var _this$state3 = _this.state,\n          activeSuggestionIndex = _this$state3.activeSuggestionIndex,\n          selectedSuggestionIndex = _this$state3.selectedSuggestionIndex;\n      return React.createElement(StyledSuggestions, null, React.createElement(InfiniteScroll, {\n        items: suggestions,\n        step: theme.select.step\n      }, function (suggestion, index) {\n        var plain = typeof suggestion === 'object' && typeof isValidElement(suggestion.label);\n        return React.createElement(\"li\", {\n          key: stringLabel(suggestion) + \"-\" + index\n        }, React.createElement(Button, {\n          active: activeSuggestionIndex === index || selectedSuggestionIndex === index,\n          fill: true,\n          hoverIndicator: \"background\",\n          onClick: function onClick(event) {\n            _this.onClickSuggestion(suggestion, event);\n          }\n        }, plain ? renderLabel(suggestion) : React.createElement(Box, {\n          align: \"start\",\n          pad: \"small\"\n        }, renderLabel(suggestion))));\n      }));\n    });\n\n    return _this;\n  }\n\n  TextInput.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var suggestions = nextProps.suggestions;\n    var showDrop = prevState.showDrop;\n\n    if (showDrop && (!suggestions || !suggestions.length)) {\n      return {\n        showDrop: false\n      };\n    }\n\n    return null;\n  };\n\n  var _proto = TextInput.prototype;\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    var _this$props9 = this.props,\n        onSuggestionsOpen = _this$props9.onSuggestionsOpen,\n        onSuggestionsClose = _this$props9.onSuggestionsClose,\n        suggestions = _this$props9.suggestions;\n    var showDrop = this.state.showDrop;\n\n    if (showDrop !== prevState.showDrop) {\n      if (showDrop && onSuggestionsOpen) {\n        onSuggestionsOpen();\n      } else if (onSuggestionsClose) {\n        onSuggestionsClose();\n      }\n    }\n\n    if (!showDrop && suggestions && (!prevProps.suggestions || !prevProps.suggestions.length)) {\n      this.resetSuggestions();\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    clearTimeout(this.resetTimer);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props10 = this.props,\n        defaultValue = _this$props10.defaultValue,\n        dropAlign = _this$props10.dropAlign,\n        dropHeight = _this$props10.dropHeight,\n        dropTarget = _this$props10.dropTarget,\n        dropProps = _this$props10.dropProps,\n        forwardRef = _this$props10.forwardRef,\n        id = _this$props10.id,\n        placeholder = _this$props10.placeholder,\n        plain = _this$props10.plain,\n        theme = _this$props10.theme,\n        value = _this$props10.value,\n        onKeyDown = _this$props10.onKeyDown,\n        rest = _objectWithoutPropertiesLoose(_this$props10, [\"defaultValue\", \"dropAlign\", \"dropHeight\", \"dropTarget\", \"dropProps\", \"forwardRef\", \"id\", \"placeholder\", \"plain\", \"theme\", \"value\", \"onKeyDown\"]);\n\n    delete rest.onChange; // se we can manage in this.onChange()\n\n    delete rest.onSuggestionsOpen;\n    delete rest.onSuggestionsClose;\n    var _this$state4 = this.state,\n        showDrop = _this$state4.showDrop,\n        isInputEmpty = _this$state4.isInputEmpty;\n    var showStyledPlaceholder = placeholder && typeof placeholder !== 'string' && isInputEmpty && !value; // needed so that styled components does not invoke\n    // onSelect when text input is clicked\n\n    delete rest.onSelect;\n    var drop;\n\n    if (showDrop) {\n      drop = React.createElement(Drop, _extends({\n        id: id ? \"text-input-drop__\" + id : undefined,\n        align: dropAlign,\n        responsive: false,\n        target: dropTarget || (forwardRef || this.inputRef).current,\n        onClickOutside: function onClickOutside() {\n          return _this2.setState({\n            showDrop: false\n          });\n        },\n        onEsc: function onEsc() {\n          return _this2.setState({\n            showDrop: false\n          });\n        }\n      }, dropProps), React.createElement(ContainerBox, {\n        overflow: \"auto\",\n        dropHeight: dropHeight\n      }, this.renderSuggestions()));\n    }\n\n    return React.createElement(StyledTextInputContainer, {\n      plain: plain\n    }, showStyledPlaceholder && React.createElement(StyledPlaceholder, null, placeholder), React.createElement(Keyboard, {\n      onEnter: this.onSuggestionSelect,\n      onEsc: this.onEsc,\n      onTab: this.onTab,\n      onUp: this.onPreviousSuggestion,\n      onDown: this.onNextSuggestion,\n      onKeyDown: onKeyDown\n    }, React.createElement(StyledTextInput, _extends({\n      id: id,\n      ref: forwardRef || this.inputRef,\n      autoComplete: \"off\",\n      plain: plain,\n      placeholder: typeof placeholder === 'string' ? placeholder : undefined\n    }, rest, {\n      defaultValue: renderLabel(defaultValue),\n      value: renderLabel(value),\n      onFocus: this.onFocus,\n      onBlur: this.onBlur,\n      onChange: this.onChange\n    }))), drop);\n  };\n\n  return TextInput;\n}(Component);\n\n_defineProperty(TextInput, \"defaultProps\", {\n  dropAlign: {\n    top: 'bottom',\n    left: 'left'\n  },\n  messages: {\n    enterSelect: '(Press Enter to Select)',\n    suggestionsCount: 'suggestions available',\n    suggestionsExist: 'This input has suggestions use arrow keys to navigate',\n    suggestionIsOpen: 'Suggestions drop is open, continue to use arrow keys to navigate'\n  }\n});\n\nObject.setPrototypeOf(TextInput.defaultProps, defaultProps);\nvar TextInputDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  TextInputDoc = require('./doc').doc(TextInput);\n}\n\nvar TextInputWrapper = compose(withFocus({\n  focusWithMouse: true\n}), withTheme, withAnnounce, withForwardRef)(TextInputDoc || TextInput);\nexport { TextInputWrapper as TextInput };","map":{"version":3,"sources":["/Users/Avelina/Projects/senior/bestbootcamp/website/node_modules/grommet/es6/components/TextInput/TextInput.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","create","constructor","__proto__","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","React","Component","isValidElement","compose","styled","withTheme","defaultProps","Box","Button","Drop","InfiniteScroll","Keyboard","withAnnounce","withFocus","withForwardRef","sizeStyle","StyledTextInput","StyledTextInputContainer","StyledPlaceholder","StyledSuggestions","renderLabel","suggestion","label","stringLabel","ContainerBox","withConfig","displayName","componentId","props","dropHeight","theme","TextInput","_Component","_this","_len","args","Array","_key","concat","activeSuggestionIndex","showDrop","isInputEmpty","createRef","message","mode","_this$props","announce","suggestions","_this$props2","suggestionsCount","messages","suggestionsExist","suggestionIsOpen","index","_this$props3","enterSelect","labelMessage","clearTimeout","resetTimer","setTimeout","setState","selectedSuggestionIndex","announceSuggestionsCount","_this$props4","suggestionValues","map","getSelectedSuggestionIndex","announceSuggestionsIsOpen","event","_this$state","state","onShowSuggestions","preventDefault","Math","min","announceSuggestion","_this$state2","max","_this$props5","forwardRef","onSelect","inputRef","current","_this$props6","_this$props7","onFocus","announceSuggestionsExist","resetSuggestions","onBlur","onChange","stopPropagation","nativeEvent","stopImmediatePropagation","_this$props8","_this$state3","createElement","items","step","select","plain","active","fill","hoverIndicator","onClick","onClickSuggestion","align","pad","getDerivedStateFromProps","nextProps","prevState","_proto","componentDidUpdate","prevProps","_this$props9","onSuggestionsOpen","onSuggestionsClose","componentWillUnmount","render","_this2","_this$props10","defaultValue","dropAlign","dropTarget","dropProps","id","placeholder","onKeyDown","rest","_this$state4","showStyledPlaceholder","drop","undefined","responsive","onClickOutside","onEsc","overflow","renderSuggestions","onEnter","onSuggestionSelect","onTab","onUp","onPreviousSuggestion","onDown","onNextSuggestion","ref","autoComplete","top","left","setPrototypeOf","TextInputDoc","process","env","NODE_ENV","require","doc","TextInputWrapper","focusWithMouse"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component, isValidElement } from 'react';\nimport { compose } from 'recompose';\nimport styled, { withTheme } from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Drop } from '../Drop';\nimport { InfiniteScroll } from '../InfiniteScroll';\nimport { Keyboard } from '../Keyboard';\nimport { withAnnounce, withFocus, withForwardRef } from '../hocs';\nimport { sizeStyle } from '../../utils';\nimport { StyledTextInput, StyledTextInputContainer, StyledPlaceholder, StyledSuggestions } from './StyledTextInput';\n\nfunction renderLabel(suggestion) {\n  if (suggestion && typeof suggestion === 'object') {\n    return suggestion.label || suggestion.value;\n  }\n\n  return suggestion;\n}\n\nfunction stringLabel(suggestion) {\n  if (suggestion && typeof suggestion === 'object') {\n    if (suggestion.label && typeof suggestion.label === 'string') {\n      return suggestion.label;\n    }\n\n    return suggestion.value;\n  }\n\n  return suggestion;\n}\n\nvar ContainerBox = styled(Box).withConfig({\n  displayName: \"TextInput__ContainerBox\",\n  componentId: \"sc-1ai0c08-0\"\n})([\"\", \";@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}\"], function (props) {\n  return props.dropHeight ? sizeStyle('max-height', props.dropHeight, props.theme) : 'max-height: inherit;';\n});\n\nvar TextInput =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(TextInput, _Component);\n\n  function TextInput() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      activeSuggestionIndex: -1,\n      showDrop: false,\n      isInputEmpty: true\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"inputRef\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"announce\", function (message, mode) {\n      var _this$props = _this.props,\n          announce = _this$props.announce,\n          suggestions = _this$props.suggestions;\n\n      if (suggestions && suggestions.length > 0) {\n        announce(message, mode);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"announceSuggestionsCount\", function () {\n      var _this$props2 = _this.props,\n          suggestions = _this$props2.suggestions,\n          suggestionsCount = _this$props2.messages.suggestionsCount;\n\n      _this.announce(suggestions.length + \" \" + suggestionsCount);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"announceSuggestionsExist\", function () {\n      var suggestionsExist = _this.props.messages.suggestionsExist;\n\n      _this.announce(suggestionsExist);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"announceSuggestionsIsOpen\", function () {\n      var suggestionIsOpen = _this.props.messages.suggestionIsOpen;\n\n      _this.announce(suggestionIsOpen);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"announceSuggestion\", function (index) {\n      var _this$props3 = _this.props,\n          suggestions = _this$props3.suggestions,\n          enterSelect = _this$props3.messages.enterSelect;\n\n      if (suggestions && suggestions.length > 0) {\n        var labelMessage = stringLabel(suggestions[index]);\n\n        _this.announce(labelMessage + \" \" + enterSelect);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetSuggestions\", function () {\n      // delay this to avoid re-render interupting event delivery\n      // https://github.com/grommet/grommet/issues/2154\n      // 10ms was chosen empirically based on ie11 using TextInput\n      // with and without a FormField.\n      clearTimeout(_this.resetTimer);\n      _this.resetTimer = setTimeout(function () {\n        var suggestions = _this.props.suggestions;\n\n        if (suggestions && suggestions.length) {\n          _this.setState({\n            activeSuggestionIndex: -1,\n            showDrop: true,\n            selectedSuggestionIndex: -1\n          }, _this.announceSuggestionsCount);\n        }\n      }, 10);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getSelectedSuggestionIndex\", function () {\n      var _this$props4 = _this.props,\n          suggestions = _this$props4.suggestions,\n          value = _this$props4.value;\n      var suggestionValues = suggestions.map(function (suggestion) {\n        if (typeof suggestion === 'object') {\n          return suggestion.value;\n        }\n\n        return suggestion;\n      });\n      return suggestionValues.indexOf(value);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onShowSuggestions\", function () {\n      // Get values of suggestions, so we can highlight selected suggestion\n      var selectedSuggestionIndex = _this.getSelectedSuggestionIndex();\n\n      _this.setState({\n        showDrop: true,\n        activeSuggestionIndex: -1,\n        selectedSuggestionIndex: selectedSuggestionIndex\n      }, _this.announceSuggestionsIsOpen);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onNextSuggestion\", function (event) {\n      var suggestions = _this.props.suggestions;\n      var _this$state = _this.state,\n          activeSuggestionIndex = _this$state.activeSuggestionIndex,\n          showDrop = _this$state.showDrop;\n\n      if (suggestions && suggestions.length > 0) {\n        if (!showDrop) {\n          _this.onShowSuggestions();\n        } else {\n          event.preventDefault();\n          var index = Math.min(activeSuggestionIndex + 1, suggestions.length - 1);\n\n          _this.setState({\n            activeSuggestionIndex: index\n          }, function () {\n            return _this.announceSuggestion(index);\n          });\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPreviousSuggestion\", function (event) {\n      var suggestions = _this.props.suggestions;\n      var _this$state2 = _this.state,\n          activeSuggestionIndex = _this$state2.activeSuggestionIndex,\n          showDrop = _this$state2.showDrop;\n\n      if (suggestions && suggestions.length > 0 && showDrop) {\n        event.preventDefault();\n        var index = Math.max(activeSuggestionIndex - 1, 0);\n\n        _this.setState({\n          activeSuggestionIndex: index\n        }, function () {\n          return _this.announceSuggestion(index);\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClickSuggestion\", function (suggestion, event) {\n      var _this$props5 = _this.props,\n          forwardRef = _this$props5.forwardRef,\n          onSelect = _this$props5.onSelect;\n\n      _this.setState({\n        showDrop: false,\n        activeSuggestionIndex: -1\n      });\n\n      if (onSelect) {\n        // TODO: needed for backwards compatibility sake\n\n        /* eslint-disable no-param-reassign */\n        event.suggestion = suggestion;\n        event.target = (forwardRef || _this.inputRef).current;\n        /* eslint-enable no-param-reassign */\n\n        onSelect(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSuggestionSelect\", function (event) {\n      var _this$props6 = _this.props,\n          forwardRef = _this$props6.forwardRef,\n          onSelect = _this$props6.onSelect,\n          suggestions = _this$props6.suggestions;\n      var activeSuggestionIndex = _this.state.activeSuggestionIndex;\n\n      _this.setState({\n        showDrop: false,\n        activeSuggestionIndex: -1\n      });\n\n      if (activeSuggestionIndex >= 0) {\n        event.preventDefault(); // prevent submitting forms\n        // TODO: needed for backwards compatibility sake\n\n        /* eslint-disable no-param-reassign */\n\n        event.suggestion = suggestions[activeSuggestionIndex];\n        event.target = (forwardRef || _this.inputRef).current;\n        /* eslint-enable no-param-reassign */\n\n        if (onSelect) {\n          onSelect(event);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFocus\", function (event) {\n      var _this$props7 = _this.props,\n          onFocus = _this$props7.onFocus,\n          suggestions = _this$props7.suggestions;\n\n      if (suggestions && suggestions.length > 0) {\n        _this.announceSuggestionsExist();\n      }\n\n      _this.resetSuggestions();\n\n      if (onFocus) {\n        onFocus(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBlur\", function (event) {\n      var onBlur = _this.props.onBlur;\n      clearTimeout(_this.resetTimer);\n\n      if (onBlur) {\n        onBlur(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (event) {\n      var onChange = _this.props.onChange;\n\n      _this.setState({\n        isInputEmpty: !event.target.value\n      });\n\n      _this.resetSuggestions();\n\n      if (onChange) {\n        onChange(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onEsc\", function (event) {\n      var showDrop = _this.state.showDrop;\n\n      if (showDrop) {\n        // we have to stop both synthetic events and native events\n        // drop and layer should not close by pressing esc on this input\n        event.stopPropagation();\n        event.nativeEvent.stopImmediatePropagation();\n\n        _this.setState({\n          showDrop: false\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTab\", function () {\n      _this.setState({\n        showDrop: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderSuggestions\", function () {\n      var _this$props8 = _this.props,\n          suggestions = _this$props8.suggestions,\n          theme = _this$props8.theme;\n      var _this$state3 = _this.state,\n          activeSuggestionIndex = _this$state3.activeSuggestionIndex,\n          selectedSuggestionIndex = _this$state3.selectedSuggestionIndex;\n      return React.createElement(StyledSuggestions, null, React.createElement(InfiniteScroll, {\n        items: suggestions,\n        step: theme.select.step\n      }, function (suggestion, index) {\n        var plain = typeof suggestion === 'object' && typeof isValidElement(suggestion.label);\n        return React.createElement(\"li\", {\n          key: stringLabel(suggestion) + \"-\" + index\n        }, React.createElement(Button, {\n          active: activeSuggestionIndex === index || selectedSuggestionIndex === index,\n          fill: true,\n          hoverIndicator: \"background\",\n          onClick: function onClick(event) {\n            _this.onClickSuggestion(suggestion, event);\n          }\n        }, plain ? renderLabel(suggestion) : React.createElement(Box, {\n          align: \"start\",\n          pad: \"small\"\n        }, renderLabel(suggestion))));\n      }));\n    });\n\n    return _this;\n  }\n\n  TextInput.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var suggestions = nextProps.suggestions;\n    var showDrop = prevState.showDrop;\n\n    if (showDrop && (!suggestions || !suggestions.length)) {\n      return {\n        showDrop: false\n      };\n    }\n\n    return null;\n  };\n\n  var _proto = TextInput.prototype;\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    var _this$props9 = this.props,\n        onSuggestionsOpen = _this$props9.onSuggestionsOpen,\n        onSuggestionsClose = _this$props9.onSuggestionsClose,\n        suggestions = _this$props9.suggestions;\n    var showDrop = this.state.showDrop;\n\n    if (showDrop !== prevState.showDrop) {\n      if (showDrop && onSuggestionsOpen) {\n        onSuggestionsOpen();\n      } else if (onSuggestionsClose) {\n        onSuggestionsClose();\n      }\n    }\n\n    if (!showDrop && suggestions && (!prevProps.suggestions || !prevProps.suggestions.length)) {\n      this.resetSuggestions();\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    clearTimeout(this.resetTimer);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props10 = this.props,\n        defaultValue = _this$props10.defaultValue,\n        dropAlign = _this$props10.dropAlign,\n        dropHeight = _this$props10.dropHeight,\n        dropTarget = _this$props10.dropTarget,\n        dropProps = _this$props10.dropProps,\n        forwardRef = _this$props10.forwardRef,\n        id = _this$props10.id,\n        placeholder = _this$props10.placeholder,\n        plain = _this$props10.plain,\n        theme = _this$props10.theme,\n        value = _this$props10.value,\n        onKeyDown = _this$props10.onKeyDown,\n        rest = _objectWithoutPropertiesLoose(_this$props10, [\"defaultValue\", \"dropAlign\", \"dropHeight\", \"dropTarget\", \"dropProps\", \"forwardRef\", \"id\", \"placeholder\", \"plain\", \"theme\", \"value\", \"onKeyDown\"]);\n\n    delete rest.onChange; // se we can manage in this.onChange()\n\n    delete rest.onSuggestionsOpen;\n    delete rest.onSuggestionsClose;\n    var _this$state4 = this.state,\n        showDrop = _this$state4.showDrop,\n        isInputEmpty = _this$state4.isInputEmpty;\n    var showStyledPlaceholder = placeholder && typeof placeholder !== 'string' && isInputEmpty && !value; // needed so that styled components does not invoke\n    // onSelect when text input is clicked\n\n    delete rest.onSelect;\n    var drop;\n\n    if (showDrop) {\n      drop = React.createElement(Drop, _extends({\n        id: id ? \"text-input-drop__\" + id : undefined,\n        align: dropAlign,\n        responsive: false,\n        target: dropTarget || (forwardRef || this.inputRef).current,\n        onClickOutside: function onClickOutside() {\n          return _this2.setState({\n            showDrop: false\n          });\n        },\n        onEsc: function onEsc() {\n          return _this2.setState({\n            showDrop: false\n          });\n        }\n      }, dropProps), React.createElement(ContainerBox, {\n        overflow: \"auto\",\n        dropHeight: dropHeight\n      }, this.renderSuggestions()));\n    }\n\n    return React.createElement(StyledTextInputContainer, {\n      plain: plain\n    }, showStyledPlaceholder && React.createElement(StyledPlaceholder, null, placeholder), React.createElement(Keyboard, {\n      onEnter: this.onSuggestionSelect,\n      onEsc: this.onEsc,\n      onTab: this.onTab,\n      onUp: this.onPreviousSuggestion,\n      onDown: this.onNextSuggestion,\n      onKeyDown: onKeyDown\n    }, React.createElement(StyledTextInput, _extends({\n      id: id,\n      ref: forwardRef || this.inputRef,\n      autoComplete: \"off\",\n      plain: plain,\n      placeholder: typeof placeholder === 'string' ? placeholder : undefined\n    }, rest, {\n      defaultValue: renderLabel(defaultValue),\n      value: renderLabel(value),\n      onFocus: this.onFocus,\n      onBlur: this.onBlur,\n      onChange: this.onChange\n    }))), drop);\n  };\n\n  return TextInput;\n}(Component);\n\n_defineProperty(TextInput, \"defaultProps\", {\n  dropAlign: {\n    top: 'bottom',\n    left: 'left'\n  },\n  messages: {\n    enterSelect: '(Press Enter to Select)',\n    suggestionsCount: 'suggestions available',\n    suggestionsExist: 'This input has suggestions use arrow keys to navigate',\n    suggestionIsOpen: 'Suggestions drop is open, continue to use arrow keys to navigate'\n  }\n});\n\nObject.setPrototypeOf(TextInput.defaultProps, defaultProps);\nvar TextInputDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  TextInputDoc = require('./doc').doc(TextInput);\n}\n\nvar TextInputWrapper = compose(withFocus({\n  focusWithMouse: true\n}), withTheme, withAnnounce, withForwardRef)(TextInputDoc || TextInput);\nexport { TextInputWrapper as TextInput };"]},"metadata":{},"sourceType":"module"}